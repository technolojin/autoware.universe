name: Catalog.architecture

depends:

  # dummy
  - CameraDummy.pipeline

  # segmentation
  - VoxelBasedCompareMapFilter.module
  - ScanGroundFilter.module
  # camera-lidar fusion
  - PointPaintingFusion.module
  - RoiDetectedObjectFusion.module

  # filter
  - ObjectLaneletFilter.module
  # merger
  - DecorativeTrackerMerger.module
  - ObjectAssociationMerger.module

  # tracker
  - DetectionByTracker.module
  - MultiObjectTracker.module

  # pipeline
  - CameraLidarFusion.pipeline
  - LidarClustering.pipeline
  - LidarCenterpoint.pipeline
  - ObjectDetection.pipeline
  - ObjectTracking.pipeline
  - ObjectPrediction.pipeline
  - Camera2dDetection.pipeline

components:
  # dummy
  - component: camera
    element: CameraDummy.pipeline
    namespace: sensing
    compute_unit: perception_ecu_2

  - component: scan_ground_filter
    element: ScanGroundFilter.module
    namespace: perception
    compute_unit: main_ecu

  - component: pointpainting_fusion
    element: PointPaintingFusion.module
    namespace: perception
    compute_unit: main_ecu

  - component: roi_pointcloud_fusion
    element: RoiPointCloudFusion.module
    namespace: perception
    compute_unit: main_ecu

  # pipeline
  - component: camera_2d_detection
    element: Camera2dDetection.pipeline
    namespace: perception
    compute_unit: perception_ecu_2

connections:
  - from: camera.output.camera0/image
    to: camera_2d_detection.input.image_raw0